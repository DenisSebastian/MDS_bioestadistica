{"title":"Fundamendos Básicos","markdown":{"headingText":"Fundamendos Básicos","headingAttr":{"id":"fundamentos","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\nsuppressPackageStartupMessages(require(knitr))\nsuppressPackageStartupMessages(require(kableExtra))\nsuppressPackageStartupMessages(library(dplyr))\nsuppressPackageStartupMessages(library(ggplot2))\nsuppressPackageStartupMessages(library(vegan))\n```\n\n## Definción de Estadística\n\nLa **estadística** es la ciencia de los datos. Consiste en recoger, clasificar, resumir, organizar analizar e interpretar la información numérica. [@mcclave2003statistics]\n\nLa estadística es el análisis y la interpretación de los datos con vistas a una evaluación objetiva de la fiabilidad de las conclusiones basadas en los datos. [@zar1999biostatistical]\n\n### Rol de la Estadística en el Pesamiento Crítico\n\n-   La capacidad de utilizar el pensamiento racional para interpretar el significado de los datos\n\n-   Esta capacidad puede ayudarle a tomar decisiones inteligentes, inferencias y generalizaciones\n\n    [@mcclave2003statistics]\n\n### Parámetros en estadísticas\n\nEl objetivo principal del análisis estadístico es inferir los parámetros de la población a partir de una muestra.\n\n-   Palabra \"**Parámetro**\" se refiere a las Poblaciones, e.j., µ, σ (i.e., letras Griegas)\n\n-   Palabra \"**Estadígrafo**\" (Statistics) se refiere a las Muestras, e.j., X, Sx (i.e., letras latinas)\n\n    -   Estadígrafos pueden variar de muestra a muestra.\n\n    -   Queremos que estos Estadígrafos sean buenas representaciones de los parámetros de la población.\n\n![Parámetros en estadística (población y muestra)](images/poblacion.png){fig-align=\"center\" width=\"450\"}\n\n### Tipos de Estadística\n\nDos tipos principales de estadística:\n\n-   Descriptiva: utiliza métodos numéricos y gráficos para buscar patrones en un conjunto de datos, para resumir la información revelada en un conjunto de datos y presentar esa información en una forma conveniente.\n-   Inferencial: es una estimación, predicción o alguna otra generalización sobre una población basada en la información contenida en una muestra.\n\n[@mcclave2003statistics]\n\n# Estadística Descriptiva {#e-descriptiva}\n\nEjemplos Estadísticass descriptiva con datos:\n\n![](images/descriptiva.png){width=\"800\"}\n\nRepresentación de tipos de datos\n\n![](images/desc_datos.png){width=\"800\"}\n\n### Muestras reperesentativas\n\n-   Contiene características similares o típicas de la población.\n-   La forma más común de obtener muestras representativas es mediante selección aleatoria.\n-   Una muestra aleatoria garantiza que cada subconjunto de tamaño fijo de la población tiene la misma probabilidad de ser incluido en la muestra\n\n### Consideraciones de la Estadísticas Descriptiva\n\n-   Definir la población o muestra de interés\n-   Definir las variables o características de la población que se van a investigar.\n-   Definir el tipo de estadística descriptiva a usar: gráficos, tablas, valores de resumen\n-   Identificar patrones en los datos.\n\n[@mcclave2003statistics]\n\n# Medidas de Tendencias Central {#m-tendencia-central}\n\n![Medidas de tendencia central](images/Visualisation_mode_median_mean.png){fig-align=\"center\" width=\"200\"}\n\n![Distribuciones](images/distribucion.png) [@zar1999biostatistical]\n\n## Media Aritmética\n\n$$\n\\mu=\\frac{\\displaystyle\\sum_{i=1}^{N}X_i}{N}\n$$\n\n-   $X_i$: cada observación de la población/muestra\n-   $N$: tamaño de la población o muestra\n\n**Ejemplo de Media Aritmétrica con R**\n\n24 registros de población de mariposas cuyo valor corresponde a el largo en cm.\n\n::: panel-tabset\n## Valores\n\n```{r}\nW <- c(3.3,3.5,3.6,3.6,3.7,3.8,\n       3.8,3.8,3.9,3.9,3.9,4.0,\n       4.0,4.0,4.0,4.1,4.1,4.1,\n       4.2,4.2,4.3,4.3,4.4,4.5)\n```\n\n## Suma\n\n$$\n\\displaystyle\\sum_{i=1}^{N}X_i=95cm\n$$\n\n```{r}\nsum(W)\n```\n\n## Media\n\n$$\n\\mu=\\frac{\\displaystyle\\sum_{i=1}^{N}X_i}{N}=3.96 cm\n$$\n\n```{r}\nmean(W)\n```\n\n## Alternativa Media\n\n```{r}\nma <-  function(vector){\n  N = length(vector)\n  ma = sum(vector)/N\n  return(ma)\n}\nma(W)\n```\n\n## Histograma\n\n```{r}\nhist(W, col = \"gray97\")\nabline(v=mean(W), col=\"red\")\n```\n:::\n\n## Mediana\n\n-   Es el valor del medio de un set de datos ordenados.\n-   Se puede entender también como el valor donde está el 50% de los datos.\n\n![Encontrar la mediana](images/Finding_the_median.png){fig-align=\"center\"}\n\n```{r}\nsort(W)\n```\n\n```{r}\nmedian(W)\n```\n\n## Moda\n\nValor más frecuente en un set de datos.\n\n```{r}\ntable(W)\n```\n\nEn R no existe una función específica pero se puede crear una:\n\n```{r}\nmoda <- function(x) {\n  uniqv <- unique(x)\n  uniqv[which.max(tabulate(match(x, uniqv)))]\n}\nmoda(W)\n\n```\n\n# Medidas de Dispersión y Variabilidad\n\n## Rango\n\n-   Diferencia entre el valor más alto y más bajo de la muestra\n-   OJO: rango de la muestra subestima el rango de la población (problema con los extremos)\n\nEj., botánicos lo usan para medir las dimensiones de hojas y flores.\n\n![Rango](images/ej_rango.jpeg){fig-align=\"center\"}\n\nCálculo en R\n\n```{r}\nmax(W) - min(W)\n```\n\nLa función `rango()` retorna valores mínimos y máximos\n\n```{r}\nrange(W) \n```\n\n## Cuartiles, Cuantiles y Percentiles\n\n-   **Cuartiles**: dividen la población en 4 partes iguales, describiendo los valores acumulados al *0%, 25%, 50%, 75% y 100%* (steps de 25%).\n\n-   **Cuantiles y Percentiles** (i.e., son =) describen lo mismo, pero no necesariamente se divide la muestra en 4 partes. Ej., se puede dividir en 10: *0%, 10%, 20%, 30%, 40%, 50%, 60%, 70%, 80%, 90%, 100%*\n\n![](images/quartiles.png){fig-align=\"center\" width=\"300\"}\n\nCálculo de cuartiles en R\n\n```{r}\n\nquantile(W)\n\n```\n\nAjuste de los porcentadjes\n\n```{r}\nquantile(W, probs = c(0.05, 0.25, 0.5, 0.75, 0.95)) # especificar el rango de porcentaje acumulado a entregar\n```\n\n### Rango Intercuartil (IQR)\n\n-   Distancia entre Q1 y Q3, el primer y segundo cuartil (25% y 75%).\n-   Más robusto que el rango normal\n-   No afectan los outliars.\n\n$$\nIQR = Q3 - Q1\n$$\n\nRango intercuantil IQR = 75% - 25%\n\n![](images/intercuartil.png){fig-align=\"center\" width=\"800\"}\n\nCáculo en R\n\n```{r}\nquantile(W, 0.75) - quantile(W, 0.25)\n\n# alternativa\nquantile(W)[4] - quantile(W)[2]\n\n```\n\n## Varianza\n\n-   Suma de los cuadrados (SS) de las desviaciones de la media.\n-   Describe la dispersión media en torno al valor medio\n\nDatos Población Total\n\n$$\n\\sigma^2 = \\frac{\\displaystyle\\sum_{i=1}^{n}(X_i - \\mu)^2} {N}\n$$\n\nDatos Muestrales\n\n$$\nS^2 = \\frac{\\displaystyle\\sum_{i=1}^{n}(X_i - \\bar{X})^2} {n-1}\n$$\n\n-   Wikipedia: [@varianza2022]\n-   Video: [@matemáticasprofealex2017]\n\n```{r}\nvar(W)\n```\n\n## Desviación Estándar\n\nEs una medida que se utiliza para cuantificar la variación o la dispersión de un conjunto de datos numéricos.\n\nUna desviación estándar baja indica que la mayor parte de los datos de una muestra tienden a estar agrupados cerca de su media (también denominada el valor esperado), mientras que una desviación estándar alta indica que los datos se extienden sobre un rango de valores más amplio.\n\n![](images/Standard_deviation_diagram.png)\n\nDesviación Estándar paraDatos Población Total\n\n$$\n\\sigma = \\sqrt{\\frac{\\displaystyle\\sum_{i=1}^{n}(X_i - \\mu)^2} {N}}\n$$\n\nDesviación Estándar para Datos Muestrales:\n\n$$\nS = \\sqrt{\\frac{\\displaystyle\\sum_{i=1}^{n}(X_i - \\bar{X})^2} {n-1}}\n$$\n\n::: panel-tabset\n## Valores\n\n```{r}\nW <- c(3.3,3.5,3.6,3.6,3.7,3.8,\n       3.8,3.8,3.9,3.9,3.9,4.0,\n       4.0,4.0,4.0,4.1,4.1,4.1,\n       4.2,4.2,4.3,4.3,4.4,4.5)\n```\n\n## Fórmula\n\n$$\n\\sigma = \\sqrt{\\frac{\\displaystyle\\sum_{i=1}^{n}(X_i - \\mu)^2} {N}}\n$$\n\n## Función sd()\n\n```{r}\nsd(W)\n\n```\n\n## Gráfico\n\n```{r echo=FALSE}\n# graficar la +- 1 DE y +- 2 DE en un histograma?\nhist(W)\nabline(v=mean(W), col='red')\n\n## +- 1 DE ---------------------------------------------------------------\nabline(v=mean(W)+sd(W), col='blue')\nabline(v=mean(W)-sd(W), col='blue')\n\n## +- 2 DE ---------------------------------------------------------------\nabline(v=mean(W)+sd(W)*2, col='green')\nabline(v=mean(W)-sd(W)*2, col='green')\n```\n\n## Cod_Graph\n\n```{r eval=FALSE}\n# graficar la +- 1 DE y +- 2 DE en un histograma?\nhist(W)\nabline(v=mean(W), col='red')\n\n## +- 1 DE ---------------------------------------------------------------\nabline(v=mean(W)+sd(W), col='blue')\nabline(v=mean(W)-sd(W), col='blue')\n\n## +- 2 DE ---------------------------------------------------------------\nabline(v=mean(W)+sd(W)*2, col='green')\nabline(v=mean(W)-sd(W)*2, col='green')\n```\n:::\n\n## Coeficiente de Variación\n\n-   Cómo la desviación estándar, pero normalizado a un porcentaje.\n-   Sirve para comparar la variación entre datos de distintas poblaciones/muestras!\n\n$$V=\\frac{s}{\\bar{X}}$$\n\n```{r}\nsd(W) / mean(W) * 100\n```\n\n## índices de Diversidad\n\n-   En el caso de los datos de escala nominal, no existe una media o una mediana que sirva de referencia para hablar de la dispersión\n-   Podemos invocar el concepto de diversidad, la distribución de las observaciones entre las categorías\n-   Observaciones distribuidas uniformemente en las categorías tienen Diversidad alta, mientras que observaciones que ocurren en pocas clases tiene Div. baja.\n\nShannon-Wiener diversity index\n\n$$\nH'= \\sum_{i=1}^k {p_i \\ log \\ p_i}\n$$\n\n-   $K$ = número de clases\n-   $P_i$ proporción de obs. de la clases $i$\n\nShannon-Wiener evenness index (índice de uniformidad)\n\n$$\nJ' = \\frac{H'}{H_{max}} \\qquad H_{max}= log\\ k\n$$\n\n#### Datos con una dimensión 1D\n\n::: panel-tabset\n## Data\n\n```{r echo=FALSE}\nespecies   <- c('a','b','c','d','e','f')\nfrecuencia <- c(44,3,28,12,2,8)\ndata <- data.frame(especies, frecuencia)\n\n\nkable_styling(\n              kable(data, digits = 3, row.names = FALSE, align = \"c\",\n              caption = NULL, format = \"html\"),\n        bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n        position = \"center\", full_width = FALSE) \n\n```\n\n## Formula\n\n$$\nH'= \\sum_{i=1}^k {p_i \\ log \\ p_i}\n$$\n\n## Código\n\n```{r}\nespecies   <- c('a','b','c','d','e','f')\nfrecuencia <- c(44,3,28,12,2,8)\n\n# funcion manual para vector de 1D\ndiversidad <- function(x){\n  x <- x/(total <- sum(x)) # Proporcion de cada especie\n  x <- -x * log(x, exp(1)) \n  H <- sum(x, na.rm = TRUE)\n  H\n}\n\n```\n\n## Resultado\n\n```{r}\ndiversidad(frecuencia)\n```\n:::\n\nEjemplo en R de ídice de diversidad con la función `diversity()` de la librería *vegan*.\n\n::: panel-tabset\n## Data\n\n```{r echo=FALSE}\nespecies   <- c('a','b','c','d','e','f')\nfrecuencia <- c(44,3,28,12,2,8)\ndata <- data.frame(especies, frecuencia)\n\n\nkable_styling(\n              kable(data, digits = 3, row.names = FALSE, align = \"c\",\n              caption = NULL, format = \"html\"),\n        bootstrap_options = c(\"striped\", \"hover\", \"condensed\"),\n        position = \"center\", full_width = FALSE) \n\n```\n\n## Código\n\n```{r}\nlibrary(vegan)\ndiversity(frecuencia) \n\n```\n:::\n\n#### Datos con más de una dimensión\n\nLectura de datos\n\n**Barro Colorado Island Tree Counts**: Tree counts in 1-hectare plots in the Barro Colorado Island and associated site information.\n\n```{r}\ndata(BCI)\ndata(BCI.env)\n```\n\nCálculo de BCI\n\n```{r}\n#### Diversity  ---------------------------------------------------------\ndiv <- diversity(BCI)\ndiv\n```\n\nAnalizar gradientes entre diversidad y variables\n\n```{r}\n# analizar gradientes entre diversidad y variables\nplot(x = div, y = BCI.env$Precipitation)\nabline(h=2530, col=\"red\")\n\n```\n\n```{r}\nplot(x = div, y = BCI.env$Habitat)\n```\n"},"formats":{"html":{"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","html-math-method":"katex","css":["style.css"],"output-file":"fundamentos.html"},"language":{},"metadata":{"quarto-version":"0.9.246","lang":"en","fig-responsive":true,"bibliography":["references.bib"],"editor":"visual","theme":"cosmo"},"extensions":{"book":{"multiFile":true}}},"pdf":{"execute":{"fig-width":6.5,"fig-height":4.5,"fig-format":"pdf","fig-dpi":300,"error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-yaml":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","output-file":"fundamentos.pdf"},"language":{},"metadata":{"quarto-version":"0.9.246","block-headings":true,"bibliography":["references.bib"],"editor":"visual","documentclass":"scrreprt"},"extensions":{"book":{}}}}}